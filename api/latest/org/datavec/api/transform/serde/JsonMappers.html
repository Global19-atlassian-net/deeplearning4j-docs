<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_161) on Thu Aug 09 02:13:25 PDT 2018 -->
<title>JsonMappers</title>
<meta name="date" content="2018-08-09">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="JsonMappers";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":9,"i3":9,"i4":9,"i5":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/datavec/api/transform/serde/BaseSerializer.html" title="class in org.datavec.api.transform.serde"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/datavec/api/transform/serde/JsonSerializer.html" title="class in org.datavec.api.transform.serde"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/datavec/api/transform/serde/JsonMappers.html" target="_top">Frames</a></li>
<li><a href="JsonMappers.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.datavec.api.transform.serde</div>
<h2 title="Class JsonMappers" class="title">Class JsonMappers</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.datavec.api.transform.serde.JsonMappers</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">JsonMappers</span>
extends java.lang.Object</pre>
<div class="block">JSON mappers for deserializing neural net configurations, etc.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/datavec/api/transform/serde/JsonMappers.html#CUSTOM_REGISTRATION_PROPERTY">CUSTOM_REGISTRATION_PROPERTY</a></span></code>
<div class="block">This system property is provided as an alternative to <a href="../../../../../org/datavec/api/transform/serde/JsonMappers.html#registerLegacyCustomClassesForJSON-java.lang.Class...-"><code>registerLegacyCustomClassesForJSON(Class[])</code></a>
 Classes can be specified in comma-separated format</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../org/datavec/api/transform/serde/JsonMappers.html#JsonMappers--">JsonMappers</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static org.nd4j.shade.jackson.databind.ObjectMapper</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/datavec/api/transform/serde/JsonMappers.html#getLegacyMapperFor-java.lang.Class-">getLegacyMapperFor</a></span>(java.lang.Class&lt;?&gt;&nbsp;clazz)</code>
<div class="block">Get the legacy JSON mapper for the specified class.<br>

 <b>NOTE</b>: This is intended for internal backward-compatibility use.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static org.nd4j.shade.jackson.databind.ObjectMapper</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/datavec/api/transform/serde/JsonMappers.html#getMapper--">getMapper</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static org.nd4j.shade.jackson.databind.ObjectMapper</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/datavec/api/transform/serde/JsonMappers.html#getMapperYaml--">getMapperYaml</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/datavec/api/transform/serde/JsonMappers.html#registerLegacyCustomClassesForJSON-java.lang.Class...-">registerLegacyCustomClassesForJSON</a></span>(java.lang.Class&lt;?&gt;...&nbsp;classes)</code>
<div class="block">Register a set of classes (Transform, Filter, etc) for JSON deserialization.<br>
 <br>
 This is required ONLY when BOTH of the following conditions are met:<br>
 1.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/datavec/api/transform/serde/JsonMappers.html#registerLegacyCustomClassesForJSON-java.util.List-">registerLegacyCustomClassesForJSON</a></span>(java.util.List&lt;<a href="../../../../../org/nd4j/linalg/primitives/Pair.html" title="class in org.nd4j.linalg.primitives">Pair</a>&lt;java.lang.String,java.lang.Class&gt;&gt;&nbsp;classes)</code>
<div class="block">Register a set of classes (Layer, GraphVertex, InputPreProcessor, IActivation, ILossFunction, ReconstructionDistribution
 ONLY) for JSON deserialization, with custom names.<br>
 Using this method directly should never be required (instead: use <a href="../../../../../org/datavec/api/transform/serde/JsonMappers.html#registerLegacyCustomClassesForJSON-java.lang.Class...-"><code>registerLegacyCustomClassesForJSON(Class[])</code></a>
 but is added in case it is required in non-standard circumstances.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/datavec/api/transform/serde/JsonMappers.html#registerLegacyCustomClassesForJSONList-java.util.List-">registerLegacyCustomClassesForJSONList</a></span>(java.util.List&lt;java.lang.Class&lt;?&gt;&gt;&nbsp;classes)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="CUSTOM_REGISTRATION_PROPERTY">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CUSTOM_REGISTRATION_PROPERTY</h4>
<pre>public static&nbsp;java.lang.String CUSTOM_REGISTRATION_PROPERTY</pre>
<div class="block">This system property is provided as an alternative to <a href="../../../../../org/datavec/api/transform/serde/JsonMappers.html#registerLegacyCustomClassesForJSON-java.lang.Class...-"><code>registerLegacyCustomClassesForJSON(Class[])</code></a>
 Classes can be specified in comma-separated format</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="JsonMappers--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>JsonMappers</h4>
<pre>public&nbsp;JsonMappers()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="registerLegacyCustomClassesForJSON-java.lang.Class...-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerLegacyCustomClassesForJSON</h4>
<pre>public static&nbsp;void&nbsp;registerLegacyCustomClassesForJSON(java.lang.Class&lt;?&gt;...&nbsp;classes)</pre>
<div class="block">Register a set of classes (Transform, Filter, etc) for JSON deserialization.<br>
 <br>
 This is required ONLY when BOTH of the following conditions are met:<br>
 1. You want to load a serialized TransformProcess, saved in 1.0.0-alpha or before, AND<br>
 2. The serialized TransformProcess has a custom Transform, Filter, etc (i.e., one not defined in DL4J)<br>
 <br>
 By passing the classes of these custom classes here, DataVec should be able to deserialize them, in spite of the JSON
 format change between versions.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>classes</code> - Classes to register</dd>
</dl>
</li>
</ul>
<a name="registerLegacyCustomClassesForJSONList-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerLegacyCustomClassesForJSONList</h4>
<pre>public static&nbsp;void&nbsp;registerLegacyCustomClassesForJSONList(java.util.List&lt;java.lang.Class&lt;?&gt;&gt;&nbsp;classes)</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../org/datavec/api/transform/serde/JsonMappers.html#registerLegacyCustomClassesForJSON-java.lang.Class...-"><code>registerLegacyCustomClassesForJSON(Class[])</code></a></dd>
</dl>
</li>
</ul>
<a name="registerLegacyCustomClassesForJSON-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerLegacyCustomClassesForJSON</h4>
<pre>public static&nbsp;void&nbsp;registerLegacyCustomClassesForJSON(java.util.List&lt;<a href="../../../../../org/nd4j/linalg/primitives/Pair.html" title="class in org.nd4j.linalg.primitives">Pair</a>&lt;java.lang.String,java.lang.Class&gt;&gt;&nbsp;classes)</pre>
<div class="block">Register a set of classes (Layer, GraphVertex, InputPreProcessor, IActivation, ILossFunction, ReconstructionDistribution
 ONLY) for JSON deserialization, with custom names.<br>
 Using this method directly should never be required (instead: use <a href="../../../../../org/datavec/api/transform/serde/JsonMappers.html#registerLegacyCustomClassesForJSON-java.lang.Class...-"><code>registerLegacyCustomClassesForJSON(Class[])</code></a>
 but is added in case it is required in non-standard circumstances.</div>
</li>
</ul>
<a name="getLegacyMapperFor-java.lang.Class-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLegacyMapperFor</h4>
<pre>public static&nbsp;org.nd4j.shade.jackson.databind.ObjectMapper&nbsp;getLegacyMapperFor(@NonNull
                                                                              java.lang.Class&lt;?&gt;&nbsp;clazz)</pre>
<div class="block">Get the legacy JSON mapper for the specified class.<br>

 <b>NOTE</b>: This is intended for internal backward-compatibility use.

 Note to developers: The following JSON mappers are for handling legacy format JSON.
 Note that after 1.0.0-alpha, the JSON subtype format for Transforms, Filters, Conditions etc were changed from
 a wrapper object, to an "@class" field. However, to not break all saved transforms networks, these mappers are
 part of the solution.<br>
 <br>
 How legacy loading works (same pattern for all types - Transform, Filter, Condition etc)<br>
 1. Transforms etc JSON that has a "@class" field are deserialized as normal<br>
 2. Transforms JSON that don't have such a field are mapped (via Layer @JsonTypeInfo) to LegacyMappingHelper.TransformHelper<br>
 3. LegacyMappingHelper.TransformHelper has a @JsonDeserialize annotation - we use LegacyMappingHelper.LegacyTransformDeserializer to handle it<br>
 4. LegacyTransformDeserializer has a list of old names (present in the legacy format JSON) and the corresponding class names
 5. BaseLegacyDeserializer (that LegacyTransformDeserializer extends) does a lookup and handles the deserialization

 Now, as to why we have one ObjectMapper for each type: We can't use the default JSON mapper for the legacy format,
 as it'll fail due to not having the expected "@class" annotation.
 Consequently, we need to tell Jackson to ignore that specific annotation and deserialize to the specified
 class anyway. The ignoring is done via an annotation introspector, defined below in this class.
 However, we can't just use a single annotation introspector (and hence ObjectMapper) for loading legacy values of
 all types - if we did, then any nested types would fail (i.e., an Condition in a Transform - the Transform couldn't
 be deserialized correctly, as the annotation would be ignored).</div>
</li>
</ul>
<a name="getMapper--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMapper</h4>
<pre>public static&nbsp;org.nd4j.shade.jackson.databind.ObjectMapper&nbsp;getMapper()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The default/primary ObjectMapper for deserializing JSON network configurations in DL4J</dd>
</dl>
</li>
</ul>
<a name="getMapperYaml--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getMapperYaml</h4>
<pre>public static&nbsp;org.nd4j.shade.jackson.databind.ObjectMapper&nbsp;getMapperYaml()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The default/primary ObjectMapper for deserializing network configurations in DL4J (YAML format)</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/datavec/api/transform/serde/BaseSerializer.html" title="class in org.datavec.api.transform.serde"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/datavec/api/transform/serde/JsonSerializer.html" title="class in org.datavec.api.transform.serde"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/datavec/api/transform/serde/JsonMappers.html" target="_top">Frames</a></li>
<li><a href="JsonMappers.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
